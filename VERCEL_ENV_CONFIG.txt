===============================================
Vercel 环境变量配置清单
===============================================

请在 Vercel Dashboard → Settings → Environment Variables 中添加以下变量：

每个变量都要选择：✅ Production ✅ Preview ✅ Development

-----------------------------------------------
1. GPTBOTS_API_KEY
-----------------------------------------------
Value: app-uwMHXO95dlUZeUKkM7C8VtTW
Environment: Production, Preview, Development

-----------------------------------------------
2. POSTGRES_URL
-----------------------------------------------
Value: postgresql://neondb_owner:npg_AR5uSBqH0Nyw@ep-frosty-math-ad5g5lh8-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require
Environment: Production, Preview, Development

-----------------------------------------------
3. POSTGRES_PRISMA_URL
-----------------------------------------------
Value: postgresql://neondb_owner:npg_AR5uSBqH0Nyw@ep-frosty-math-ad5g5lh8-pooler.c-2.us-east-1.aws.neon.tech/neondb?connect_timeout=15&sslmode=require
Environment: Production, Preview, Development

-----------------------------------------------
4. POSTGRES_URL_NON_POOLING
-----------------------------------------------
Value: postgresql://neondb_owner:npg_AR5uSBqH0Nyw@ep-frosty-math-ad5g5lh8.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require
Environment: Production, Preview, Development

-----------------------------------------------
5. POSTGRES_USER
-----------------------------------------------
Value: neondb_owner
Environment: Production, Preview, Development

-----------------------------------------------
6. POSTGRES_HOST
-----------------------------------------------
Value: ep-frosty-math-ad5g5lh8-pooler.c-2.us-east-1.aws.neon.tech
Environment: Production, Preview, Development

-----------------------------------------------
7. POSTGRES_PASSWORD
-----------------------------------------------
Value: npg_AR5uSBqH0Nyw
Environment: Production, Preview, Development
⚠️ 建议勾选 "Sensitive" 将此变量加密

-----------------------------------------------
8. POSTGRES_DATABASE
-----------------------------------------------
Value: neondb
Environment: Production, Preview, Development

-----------------------------------------------
可选（如果项目需要）
-----------------------------------------------
9. DATABASE_URL
Value: postgresql://neondb_owner:npg_AR5uSBqH0Nyw@ep-frosty-math-ad5g5lh8-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require

10. POSTGRES_URL_NO_SSL
Value: postgresql://neondb_owner:npg_AR5uSBqH0Nyw@ep-frosty-math-ad5g5lh8-pooler.c-2.us-east-1.aws.neon.tech/neondb

===============================================
配置步骤：
===============================================

1. 访问 https://vercel.com/dashboard
2. 选择 personal_agent 项目
3. 点击 Settings → Environment Variables
4. 逐个添加上面的环境变量
5. 每个变量都选择所有环境（Production + Preview + Development）
6. POSTGRES_PASSWORD 建议标记为 Sensitive
7. 保存后点击 Deployments → Redeploy 重新部署

===============================================
数据库初始化 SQL（在 Neon SQL Editor 中运行）
===============================================

DROP TABLE IF EXISTS patients;

CREATE TABLE IF NOT EXISTS users (
  id SERIAL PRIMARY KEY,
  account VARCHAR(100) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  name VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  last_login TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_account ON users(account);

INSERT INTO users (account, password, name) VALUES
  ('admin', 'admin123', '管理員'),
  ('user1', 'password1', '用戶一'),
  ('demo', 'demo123', '演示賬號')
ON CONFLICT (account) DO NOTHING;

===============================================
测试账号
===============================================

账号: admin
密码: admin123

账号: user1
密码: password1

账号: demo
密码: demo123

===============================================

